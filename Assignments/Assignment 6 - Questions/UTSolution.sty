\usepackage{tikz}
\usepackage{array}
\usepackage{multirow}
\usepackage{array}
\usepackage{xecolor}
\usepackage{enumerate}
\usepackage{enumitem}
\usepackage{psvectorian}
\usepackage{ragged2e}
\usepackage{pgfornament}
\usepackage{changepage}
\usepackage{geometry}
\geometry{
	a4paper,
	total={170mm,257mm},
	left=20mm,
	top=20mm,
}
\usepackage{xparse}
%\ExplSyntaxOn
%
%% first of all we define the user level commands
%\NewDocumentCommand{\inputHintTag}{ m }{ \malmedal_input_add:n { #1 } }
%\NewDocumentCommand{\outputHintTag}{ }{ \malmedal_output_direct: }
%
%% allocate some variables:
%% 1. a sequence for global storage of the inputs;
%% 2. a temporary sequence when we need to reverse;
%% 3. a counter (integer variable)
%\seq_new:N \g_malmedal_input_seq
%\seq_new:N \l_malmedal_temp_seq
%\int_new:N \l_malmedal_count_int
%
%% store globally an input in the sequence    
%\cs_new:Npn \malmedal_input_add:n #1
%{
%	\seq_gput_right:Nn \g_malmedal_input_seq { #1 }
%}
%
%% how to output in direct order; we simply do a mapping function calling
%% \malmedal_print:n after incrementing the counter
%\cs_new_protected:Npn \malmedal_output_direct:
%{
%	\int_zero:N \l_malmedal_count_int
%	\seq_map_inline:Nn \g_malmedal_input_seq
%	{
%		\int_incr:N \l_malmedal_count_int
%		\malmedal_print:n { ##1 }
%	}
%}
%
%% the printing macro; change here for adapting to your wishes
%\cs_new:Npn \malmedal_print:n #1
%{
%	Input ~ \int_to_arabic:n { \l_malmedal_count_int } ~ is ~ `#1' \par
%}
%\ExplSyntaxOff
%\ExplSyntaxOn
%
%% first of all we define the user level commands
%\NewDocumentCommand{\inputHintText}{ m }{ \malmedal_input_add:n { #1 } }
%\NewDocumentCommand{\outputHintText}{ }{ \malmedal_output_direct: }
%
%% allocate some variables:
%% 1. a sequence for global storage of the inputs;
%% 2. a temporary sequence when we need to reverse;
%% 3. a counter (integer variable)
%\seq_new:N \g_malmedal_input_seq
%\seq_new:N \l_malmedal_temp_seq
%\int_new:N \l_malmedal_count_int
%
%% store globally an input in the sequence    
%\cs_new:Npn \malmedal_input_add:n #1
%{
%	\seq_gput_right:Nn \g_malmedal_input_seq { #1 }
%}

% how to output in direct order; we simply do a mapping function calling
% \malmedal_print:n after incrementing the counter
%\cs_new_protected:Npn \malmedal_output_direct:
%{
%	\int_zero:N \l_malmedal_count_int
%	\seq_map_inline:Nn \g_malmedal_input_seq
%	{
%		\int_incr:N \l_malmedal_count_int
%		\malmedal_print:n { ##1 }
%	}
%}
%
%% the printing macro; change here for adapting to your wishes
%\cs_new:Npn \malmedal_print:n #1
%{
%	Input ~ \int_to_arabic:n { \l_malmedal_count_int } ~ is ~ `#1' \par
%}
%\ExplSyntaxOff
%\ExplSyntaxOn

% first of all we define the user level commands
%\NewDocumentCommand{\inputQuestionNumber}{ m }{ \malmedal_input_add:n { #1 } }
%\NewDocumentCommand{\outputQuestionNumber}{ }{ \malmedal_output_direct: }
%
%% allocate some variables:
%% 1. a sequence for global storage of the inputs;
%% 2. a temporary sequence when we need to reverse;
%% 3. a counter (integer variable)
%\seq_new:N \g_malmedal_input_seq
%\seq_new:N \l_malmedal_temp_seq
%\int_new:N \l_malmedal_count_int
%
%% store globally an input in the sequence    
%\cs_new:Npn \malmedal_input_add:n #1
%{
%	\seq_gput_right:Nn \g_malmedal_input_seq { #1 }
%}
%
%% how to output in direct order; we simply do a mapping function calling
%% \malmedal_print:n after incrementing the counter
%\cs_new_protected:Npn \malmedal_output_direct:
%{
%	\int_zero:N \l_malmedal_count_int
%	\seq_map_inline:Nn \g_malmedal_input_seq
%	{
%		\int_incr:N \l_malmedal_count_int
%		\malmedal_print:n { ##1 }
%	}
%}
%
%% the printing macro; change here for adapting to your wishes
%\cs_new:Npn \malmedal_print:n #1
%{
%	Input ~ \int_to_arabic:n { \l_malmedal_count_int } ~ is ~ `#1' \par
%}
%\ExplSyntaxOff

%\newcommand{\hinter}[3]{
%
%}

\newcolumntype{x}[1]{>{\centering\arraybackslash\hspace{0pt}}p{#1}}

\usetikzlibrary{arrows}

%این بسته مخصوص طراحی دیاگرام و گراف است و کار با آن بسیار ساده تر از tikz می باشد


%define commands and enviroments
\newcommand{\heading}[5]
{
	%set paging
	\renewcommand{\thepage}{\arabic{page}}
	\begin{table}[ht]
		\centering
		\begin{tabular}[c]{m{4in}  p{0.18in} x{2in}}
			\huge #1 	&& \multirow{3}{*}[2.5em]{\includegraphics[scale=0.075]{UTlogo.png}} \\ [2em]
			\large#3 	&&\\ [0.2em]
			\large
			استاد درس:
			#2	
			&& دانشکدهٔ ریاضی، آمار و علوم کامپیوتر \\ [0.5em]
			\hline\hline
			&&\\[1em]
			\multicolumn{3}{c}{\huge\textbf{#5}}\\[1.5em]
%			\huge\textbf{#7} && akbar \\[1.5em]
			\multicolumn{3}{c}{\large{#4	}}\\[1em]
%			\multicolumn{3}{c}{\large\textbf{\pgfornament[scale=0.3]{60}}}\\[0.5em]
		
		\end{tabular}
		%\noindent
	\end{table}
\vspace{-18pt}
}

\usepackage{xepersian}
\usepackage{xecolor}
\definecolor{mycolor}{HTML}{ffaa00}
\settextfont{XB Zar.ttf}
\newcounter{problemNo}
\newenvironment{problem}{
	\vspace{-4pt}
	\noindent
	%\textbf{\large مسأله}
	\stepcounter{problemNo}
	\begin{itemize}[leftmargin=0.8cm]
		\item[{\Large \theproblemNo.}]
}
{
	\end{itemize}
	\vspace{6pt}
	\hrule
}
\newenvironment{bonusproblem}{
	\noindent
	%\textbf{\large مسأله}
	\stepcounter{problemNo}
	\begin{itemize}[leftmargin=0.95cm]
		\item[{\color{mycolor}\Huge\theproblemNo.}]
}
{
	\end{itemize}
	\vspace{-20pt}
	\begin{center}
			\textcolor{mycolor}{\rule{\textwidth}{1pt}} 
	\end{center}
	\vspace{-30pt}
}

\newcommand{\fulline}{
	\vspace{10pt}
	\hrule 
}

\newcommand{\inspiringQuotation}[2]{
\begin{center}
	\begin{tikzpicture}[remember picture, overlay]
		\node[anchor=center]{\psvectorian[scale=0.25]{70}};
	\end{tikzpicture}
	\vspace{0.7cm}
\end{center}
\begin{adjustwidth*}{2cm}{2cm}
	\setLTR
	\lr{\textit{#1
	}}
	
	\begin{flushright}
		\vspace{7pt}
		\lr{#2}
	\end{flushright}
\end{adjustwidth*}
\vspace{-15pt}
\begin{center}
	\begin{tikzpicture}[remember picture, overlay]
		\node[anchor=center, rotate=180]{\psvectorian[scale=0.65]{89}};
	\end{tikzpicture}
\end{center}
\vspace{0.5cm}
}
\newcommand{\bonusProblemsHeading}{
\hrule
\vspace{1pt}
\hrule
\vspace{1.5cm}
\begin{center}
	\begin{tikzpicture}[remember picture, overlay]
		\node[anchor=east, xshift=-2.6cm]{\psvectorian[scale=0.45, color=mycolor]{15}};
		\node[anchor=center, color=mycolor]{\Huge \textbf{امتیازی سوالات}};
		\node[anchor=west, xshift=2.5cm]{\psvectorian[scale=0.45, color = mycolor]{16}};
	\end{tikzpicture}
	\vspace{0.2cm}
\end{center}
\setcounter{problemNo}{0}
}

\newenvironment{subproblem}{
	\begin{enumerate}[label = \theproblemNo.\arabic*., leftmargin = 1.1cm]
	}{
	\end{enumerate}
}
\linespread{1.35}